<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
        background: #f5f5f5;
      }

      h3 {
        margin-bottom: 20px;
        font-size: 24px;
      }

      input[type="text"] {
        width: 100%;
        padding: 16px;
        font-size: 20px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 12px;
        box-sizing: border-box;
      }

      .btn {
        display: block;
        width: 100%;
        padding: 18px;
        font-size: 20px;
        margin: 8px 0;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: transform 0.1s, background 0.2s;
      }

      .btn:active {
        transform: scale(0.97);
      }

      .original { background: #f0a500; color: white; }
      .earl { background: #0077b6; color: white; }
      .ein { background: #6a4c93; color: white; }
      .strawberry { background: #ff4b5c; color: white; }
      .jasmine { background: #ffe0b2; color: white; }
      .done { background: #4caf50; color: white; margin-top: 20px; }

      #sequenceDisplay {
        margin-top: 20px;
        font-size: 22px;
        font-weight: bold;
        word-wrap: break-word;
      }
      #priceDisplay {
        margin-top: 20px;
        font-size: 22px;
        font-weight: bold;
        word-wrap: break-word;
      }
    </style>
  </head>
  <body>
    <h3>Steven Yo Boss</h3>

    <input type="text" id="username" placeholder="Enter your name">

    <button class="btn original" onclick="add('Og ', 3, 7.50)">Original</button>
    <button class="btn earl" onclick="add('Eg ', 3, 7.50)">Earl</button>
    <button class="btn ein" onclick="add('Ein ', 4, 8.00)">Einspanner</button>
    <button class="btn strawberry" onclick="add('Str ', 4, 8.00)">Strawberry</button>
    <button class="btn jasmine" onclick="add('Jas ', 4, 7.50)">Jasmine</Button>
    <button class="btn delete" onclick="removeLast()">‚ùå</button>

    <button class="btn done" onclick="done()">Done</button>

    <p id="priceDisplay">Price: </p>
    <p id="sequenceDisplay">Sequence: </p>
    


    <script>
      let sequence = "";
      let historySeq = [];
      let historyPrice = [];
      let priceSum = 0;

      function add(value, length, price) {
        sequence += value;
        historySeq.push(length);
        historyPrice.push(price);
        priceSum += price;
        document.getElementById("sequenceDisplay").innerText = "Sequence: " + sequence;
        document.getElementById("priceDisplay").innerText = "Price: " + priceSum;
      }

      

      function removeLast(){
        if (history.length > 0){
          const lastLength = historySeq.pop();
          const lastPrice = historyPrice.pop();
          sequence = sequence.slice(0,-lastLength);
          priceSum -= lastPrice;
          document.getElementById("sequenceDisplay").innerText = "Sequence: " + sequence;
          document.getElementById("priceDisplay").innerText = "Price: " + priceSum; 
        }
      }

      function done() {
        history = [];
        const name = document.getElementById("username").value || "Unknown";
        if (!sequence) {
          alert("No sequence entered!");
          return;
        }

        google.script.run.withSuccessHandler(() => {
          alert("Logged");
        }).completeRow(name, sequence, priceSum);

        sequence = "";
        priceSum = 0;

        document.getElementById("priceDisplay").innerText = "Price: "
        document.getElementById("sequenceDisplay").innerText = "Sequence: ";
      }
    </script>
  </body>
</html>
